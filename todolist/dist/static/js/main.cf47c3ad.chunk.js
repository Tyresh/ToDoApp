(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{72:function(e,n,t){e.exports=t(90)},77:function(e,n,t){},90:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(10),o=t.n(c),i=(t(77),t(47)),u=t(9),l=t(7),s=t.n(l),p=t(11),f=t(14),d=t(16),m=t(17);function h(){var e=Object(d.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return h=function(){return e},e}function b(){var e=Object(d.a)(["\n    height: 100%;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    margin: auto;\n    justify-content: center;\n    flex-direction: column;\n    background: #FA7F72;\n    position: absolute;\n"]);return b=function(){return e},e}var v=m.a.div(b()),g=m.a.div(h());function x(){var e=Object(d.a)(["\n    background: #FFF;\n"]);return x=function(){return e},e}function y(){var e=Object(d.a)(["\n    height: 40%;\n    width: 30%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background: #FFF;\n"]);return y=function(){return e},e}function j(){var e=Object(d.a)(["\n    text-decoration: none;\n    font-weight: bold;\n    color: #8359A3;\n    margin-left: 10px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    &:hover{\n        cursor: pointer;\n    }\n"]);return j=function(){return e},e}var E=m.a.a(j()),w=m.a.div(y()),O=m.a.h2(x()),k=t(122),F=t(120),S=t(123),D=t(37);t(80),t(82),t(91);D.initializeApp({apiKey:"AIzaSyDwGnA_Qp4BS5fGqKL250-HPyv5BvYGQh0",authDomain:"todolist-24252.firebaseapp.com",databaseURL:"https://todolist-24252.firebaseio.com",projectId:"todolist-24252",storageBucket:"todolist-24252.appspot.com",messagingSenderId:"619714024992",appId:"1:619714024992:web:3552910e56aacf94190e45"});var C=D.auth(),T=D.firestore(),U=D.storage(),I=function(){var e=Object(p.a)(s.a.mark((function e(n,t){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.createUserWithEmailAndPassword(n,t).then((function(e){return e}));case 2:return r=e.sent,a=r.user,e.next=6,T.collection("users").doc(a.uid).set({email:n,password:t,type:"user",toDos:[]});case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.collection("users").get().then((function(e){return e.docs.map((function(e){return e.data()}))}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(p.a)(s.a.mark((function e(n,t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={verified:!1,userType:""},e.next=3,L();case 3:return e.sent.forEach(function(){var e=Object(p.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.email!==n||a.password!==t){e.next=4;break}return r={verified:!0,userType:a.type},e.next=4,C.signInWithEmailAndPassword(n,t).then((function(e){console.log("User Signed In")}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();var P=function(){var e=Object(r.useState)(!1),n=Object(f.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(""),i=Object(f.a)(o,2),l=i[0],d=i[1],m=Object(r.useState)(""),h=Object(f.a)(m,2),b=h[0],x=h[1],y=Object(r.useState)(""),j=Object(f.a)(y,2),D=j[0],C=j[1],T=Object(r.useState)(""),P=Object(f.a)(T,2),z=P[0],B=P[1],W=Object(r.useState)({opacity:0,content:"",color:""}),G=Object(f.a)(W,2),R=G[0],J=G[1],K=Object(r.useState)({opacity:0,content:""}),Q=Object(f.a)(K,2),q=Q[0],H=Q[1],M=Object(r.useState)(""),Y=Object(f.a)(M,2),_=Y[0],N=Y[1],V=Object(u.g)();Object(r.useEffect)((function(){(function(){var e=Object(p.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.ref("todo-logo.webp").getDownloadURL().then((function(e){return e}));case 2:n=e.sent,N(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var X=function(){var e=Object(p.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==l.length&&0!==b.length){e.next=4;break}J({opacity:1,content:"One or more fields are empty!",color:"#F00"}),e.next=15;break;case 4:return n=!0,e.next=7,L();case 7:if(e.sent.forEach((function(e){e.email===l&&(n=!1)})),!n){e.next=14;break}return e.next=12,I(l,b).then((function(){J({opacity:1,content:"User created!",color:"#00a000"})}));case 12:e.next=15;break;case 14:J({opacity:1,content:"Email already exists!",color:"#F00"});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(p.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(D,z);case 2:n=e.sent,console.log(n),n.verified&&"user"===n.userType?("/toDoPage",V.push("/toDoPage")):n&&"admin"===n.userType?("/adminPage",V.push("/adminPage")):H({opacity:1,content:"E-mail or password doesn't exist"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(v,null,a.a.createElement(g,null,a.a.createElement("img",{src:_,style:{width:"100px",height:"100px"}}),a.a.createElement("h1",null,"Welcome to your ToDos!"),a.a.createElement("h2",null,"Log In to create, edit and much more!"),a.a.createElement("p",{style:{opacity:q.opacity,color:"#F00"}},q.content),a.a.createElement(k.a,{id:"outlined-basic",label:"E-mail",variant:"outlined",onChange:function(e){C(e.target.value)}}),a.a.createElement(k.a,{id:"outlined-basic",label:"Senha",style:{marginTop:"20px"},type:"password",variant:"outlined",onChange:function(e){B(e.target.value)}}),a.a.createElement(F.a,{variant:"contained",color:"primary",component:"span",onClick:Z,style:{marginTop:"40px"}},"Login"),a.a.createElement("h4",null,"Don't have an account? "),a.a.createElement(E,{onClick:function(){c(!0),d(""),x("")}},"Sign up here"),a.a.createElement(S.a,{open:t,onClose:function(){J({opacity:0,content:"",color:""}),c(!1)},style:{display:"flex",justifyContent:"center",alignItems:"center"}},a.a.createElement(w,null,a.a.createElement(O,null,"Sign Up"),a.a.createElement(k.a,{id:"outlined-basic",label:"Type in your email",variant:"outlined",onChange:function(e){d(e.target.value)}}),a.a.createElement(k.a,{id:"outlined-basic",label:"Type in your password",type:"password",style:{marginTop:"10px"},variant:"outlined",onChange:function(e){x(e.target.value)}}),a.a.createElement("p",{style:{opacity:R.opacity,color:R.color}},R.content),a.a.createElement(F.a,{variant:"contained",color:"primary",component:"span",onClick:X,style:{marginTop:"40px"}},"Sign Up")))))};function z(){var e=Object(d.a)(["\n  background: #CD0000;\n  color: #FFFFFF;\n  border-radius: 5px;\n  border: none;\n  font-weight: bold;\n  font-size: 20px;\n  width: 135px;\n  height: 40px;\n  cursor: pointer;\n  margin-top: 10px;\n  margin-left: 10px;\n"]);return z=function(){return e},e}function B(){var e=Object(d.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #FFF;\n    margin-bottom: 10px;\n    width: 100%;\n    height: 150px;\n    border-radius: 5px;\n    box-shadow: 12 0 3 9;\n"]);return B=function(){return e},e}function W(){var e=Object(d.a)(["\n    display: flex;\n    align-items: center;\n    margin-bottom: 10px;\n    background: #FFF;\n    width: 100%;\n    height: 150px;\n    border-radius: 5px;\n    box-shadow: 12 0 3 9;\n"]);return W=function(){return e},e}function G(){var e=Object(d.a)(["\n    list-style-type: none;\n    width: 100%;\n    padding-left: 0px;\n"]);return G=function(){return e},e}function R(){var e=Object(d.a)(["\n    display: flex;\n    flex-direction: row;\n    height: 100%;\n    width: 100%;\n"]);return R=function(){return e},e}function J(){var e=Object(d.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: row;\n    height: 20%;\n    width: 100vh;\n"]);return J=function(){return e},e}var K=m.a.div(J()),Q=m.a.div(R()),q=m.a.ul(G()),H=m.a.div(W()),M=m.a.div(B()),Y=m.a.button(z()),_=t(121),N=t(62),V=t.n(N),X=function(){var e=Object(p.a)(s.a.mark((function e(n,t,r){var a,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],c=[],e.next=4,T.collection("users").get().then((function(e){return e.docs.map((function(e){r===e.id&&(a=e.data().toDos)}))}));case 4:return o=e.sent,a.forEach((function(e){c.push(e)})),c.push({title:n,description:t}),console.log(c),o.forEach(Object(p.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.collection("users").doc(r).update({toDos:c});case 2:case"end":return e.stop()}}),e)})))),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),Z=function(){var e=Object(p.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.signOut().then((function(){console.log("User Signed Out")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e;return null===(e=C.currentUser)||void 0===e?void 0:e.uid},ee=function(){var e=Object(p.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,T.collection("users").get().then((function(e){return e.docs.map((function(e){n===e.id&&"user"===e.data().type&&(t=e.data().toDos)}))}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var ne=function(){var e=Object(r.useState)(""),n=Object(f.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(""),i=Object(f.a)(o,2),l=i[0],d=i[1],m=Object(r.useState)([]),h=Object(f.a)(m,2),b=h[0],x=h[1],y=Object(r.useState)(0),j=Object(f.a)(y,2),E=j[0],w=j[1],O=Object(u.g)();Object(r.useEffect)((function(){(function(){var e=Object(p.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee($());case 2:n=e.sent,x(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),b);var F=function(){var e=Object(p.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t||""===l){e.next=8;break}return w(0),e.next=4,X(t,l,$());case 4:n=e.sent,x(n),e.next=9;break;case 8:w(1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(v,null,a.a.createElement(g,{style:{height:"80vh",width:"40%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},a.a.createElement("h1",null,"Welcome to your ToDos!"),a.a.createElement(Y,{onClick:function(){Z().then((function(){O.push("/")}))}},"Logout"),a.a.createElement("p",{style:{opacity:E,color:"#F00"}},"The fields can't be empty!"),a.a.createElement(K,null,a.a.createElement(k.a,{id:"standard-basic",label:"Add a title",style:{marginRight:"30px"},onChange:function(e){c(e.target.value)}}),a.a.createElement(k.a,{id:"standard-basic",label:"Add a description",onChange:function(e){d(e.target.value)}}),a.a.createElement(_.a,{style:{marginLeft:"35px"},size:"small",color:"primary","aria-label":"add",onClick:function(){return F()}},a.a.createElement(V.a,null))),a.a.createElement(Q,null,a.a.createElement(q,null,b.length>0?null===b||void 0===b?void 0:b.map((function(e){return a.a.createElement(H,null,a.a.createElement("li",{key:e.title,style:{paddingLeft:"40px"}},a.a.createElement("h3",null,e.title),a.a.createElement("p",null,e.description)))})):a.a.createElement(M,null,a.a.createElement("h2",null,"There's no ToDos currently. Add some!"))))))};function te(){var e=Object(d.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #FFF;\n    margin-bottom: 10px;\n    width: 100%;\n    height: 150px;\n    border-radius: 5px;\n    box-shadow: 12 0 3 9;\n"]);return te=function(){return e},e}function re(){var e=Object(d.a)(["\n    display: flex;\n    align-items: center;\n    margin-bottom: 10px;\n    background: #FFF;\n    width: 100%;\n    height: 150px;\n    border-radius: 5px;\n    box-shadow: 12 0 3 9;\n"]);return re=function(){return e},e}function ae(){var e=Object(d.a)(["\n    list-style-type: none;\n    width: 100%;\n    padding-left: 0px;\n"]);return ae=function(){return e},e}function ce(){var e=Object(d.a)(["\n    display: flex;\n    flex-direction: row;\n    height: 100%;\n    width: 100%;\n"]);return ce=function(){return e},e}var oe=m.a.div(ce()),ie=m.a.ul(ae()),ue=m.a.div(re()),le=m.a.div(te());var se=function(){var e=Object(u.g)(),n=Object(r.useState)([]),t=Object(f.a)(n,2),c=t[0],o=t[1];return Object(r.useEffect)((function(){(function(){var e=Object(p.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,L();case 3:e.sent.forEach((function(e){"user"===e.type&&n.push(e)})),o(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),c),a.a.createElement(v,null,a.a.createElement(g,{style:{height:"80vh",width:"40%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},a.a.createElement("h1",null,"User List"),a.a.createElement(Y,{onClick:function(){Z().then((function(){e.push("/")}))}},"Logout"),a.a.createElement(oe,null,a.a.createElement(ie,null,c.length>0?null===c||void 0===c?void 0:c.map((function(e){return a.a.createElement(ue,null,a.a.createElement("li",{key:e.email,style:{paddingLeft:"40px"}},a.a.createElement("h3",null,"User's email: ",e.email),a.a.createElement("h3",null,"That user currently have ",e.toDos.length," toDos.")))})):a.a.createElement(le,null,a.a.createElement("h2",null,"There's no Users currently."))))))};var pe=function(){return a.a.createElement(i.a,null,a.a.createElement(u.d,null,a.a.createElement(u.b,{exact:!0,path:"/",component:P}),a.a.createElement(u.b,{exact:!0,path:"/toDoPage",component:ne}),a.a.createElement(u.b,{exact:!0,path:"/adminPage",component:se}),a.a.createElement(u.b,{exact:!0,path:"*",component:function(){return a.a.createElement(u.a,{to:"/"})}})))};o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(pe,null)),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.cf47c3ad.chunk.js.map